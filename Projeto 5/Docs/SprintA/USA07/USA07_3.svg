<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="579px" preserveAspectRatio="none" style="width:1079px;height:579px;background:#FFFFFF;" version="1.1" viewBox="0 0 1079 579" width="1079px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="131" x="473" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121" x="478" y="29.5332">SD - Edit Delivery</text><rect fill="#FFFFFF" height="438.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="205" y="86.2188"/><rect fill="#FFFFFF" height="342.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="428" y="182.2734"/><rect fill="#FFFFFF" height="238.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="697" y="255.9766"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="889" y="286.3281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1025" y="433.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="209.5" x2="209.5" y1="76.2188" y2="542.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="432.5" x2="432.5" y1="76.2188" y2="542.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="702" x2="702" y1="76.2188" y2="542.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="893.5" x2="893.5" y1="76.2188" y2="542.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1030" x2="1030" y1="76.2188" y2="542.7891"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="35" x="192.5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="199.5" y="65.1426">API</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="35" x="192.5" y="541.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="199.5" y="563.3223">API</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="367.5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="374.5" y="65.1426">Delivery Controller</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="367.5" y="541.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="374.5" y="563.3223">Delivery Controller</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="644" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="651" y="65.1426">Delivery Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="644" y="541.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="651" y="563.3223">Delivery Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="825.5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="832.5" y="65.1426">Delivery Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="825.5" y="541.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="832.5" y="563.3223">Delivery Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="987" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="994" y="65.1426">UnitOfWork</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="987" y="541.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="994" y="563.3223">UnitOfWork</text><rect fill="#FFFFFF" height="438.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="205" y="86.2188"/><rect fill="#FFFFFF" height="342.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="428" y="182.2734"/><rect fill="#FFFFFF" height="238.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="697" y="255.9766"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="889" y="286.3281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1025" y="433.7344"/><polygon fill="#181818" points="193,104.5703,203,108.5703,193,112.5703,197,108.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="199" y1="108.5703" y2="108.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="7" y="103.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="18" y="103.7139">PUT (delivery_id, delivery_info)</text><line style="stroke:#181818;stroke-width:1.0;" x1="215" x2="257" y1="138.9219" y2="138.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="257" x2="257" y1="138.9219" y2="151.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="216" x2="257" y1="151.9219" y2="151.9219"/><polygon fill="#181818" points="226,147.9219,216,151.9219,226,155.9219,222,151.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="222" y="134.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="233" y="134.0654">new WarehouseDto(delivery info)</text><polygon fill="#181818" points="416,178.2734,426,182.2734,416,186.2734,420,182.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="215" x2="422" y1="182.2734" y2="182.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="222" y="177.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="233" y="177.417">Update(delivery_id, DeliveryDto)</text><line style="stroke:#181818;stroke-width:1.0;" x1="438" x2="480" y1="212.625" y2="212.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="480" y1="212.625" y2="225.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="439" x2="480" y1="225.625" y2="225.625"/><polygon fill="#181818" points="449,221.625,439,225.625,449,229.625,445,225.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="445" y="207.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="456" y="207.7686">Compares (delivery_id == DeliveryDto.Id)</text><polygon fill="#181818" points="685,251.9766,695,255.9766,685,259.9766,689,255.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="438" x2="691" y1="255.9766" y2="255.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="445" y="251.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="456" y="251.1201">UpdateAsync(DeliveryDto)</text><polygon fill="#181818" points="877,282.3281,887,286.3281,877,290.3281,881,286.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="707" x2="883" y1="286.3281" y2="286.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="714" y="281.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="725" y="281.4717">GetByIdAsync(delivery_id)</text><line style="stroke:#181818;stroke-width:1.0;" x1="899" x2="941" y1="316.6797" y2="316.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="941" x2="941" y1="316.6797" y2="329.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="900" x2="941" y1="329.6797" y2="329.6797"/><polygon fill="#181818" points="910,325.6797,900,329.6797,910,333.6797,906,329.6797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="906" y="311.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="917" y="311.8232">Fetch(delivery_id)</text><polygon fill="#181818" points="718,356.0313,708,360.0313,718,364.0313,714,360.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="712" x2="893" y1="360.0313" y2="360.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="724" y="355.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="735" y="355.1748">OldDelivery</text><line style="stroke:#181818;stroke-width:1.0;" x1="707" x2="749" y1="390.3828" y2="390.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="749" x2="749" y1="390.3828" y2="403.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="708" x2="749" y1="403.3828" y2="403.3828"/><polygon fill="#181818" points="718,399.3828,708,403.3828,718,407.3828,714,403.3828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="714" y="385.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="725" y="385.5264">Edits delivery information</text><polygon fill="#181818" points="1013,429.7344,1023,433.7344,1013,437.7344,1017,433.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="707" x2="1019" y1="433.7344" y2="433.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="714" y="428.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="732" y="428.8779">CommitAsync</text><polygon fill="#181818" points="718,460.0859,708,464.0859,718,468.0859,714,464.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="712" x2="1029" y1="464.0859" y2="464.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="724" y="459.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="742" y="459.2295"> </text><polygon fill="#181818" points="449,490.4375,439,494.4375,449,498.4375,445,494.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="443" x2="701" y1="494.4375" y2="494.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="455" y="489.5811">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="473" y="489.5811">NewDelivery(DeliveryDto)</text><polygon fill="#181818" points="221,520.7891,211,524.7891,221,528.7891,217,524.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="215" x2="432" y1="524.7891" y2="524.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="227" y="519.9326">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="245" y="519.9326">Response Code 200</text><!--MD5=[a39e3d4f86f07fe0e4cb292f2dbd9c4f]
@startuml USA07_3

title SD - Edit Delivery

autonumber

participant "API" as API
participant "Delivery Controller" as C
participant "Delivery Service" as S
participant "Delivery Repository" as R
participant "UnitOfWork" as U

activate API
-> API : PUT (delivery_id, delivery_info)
API -> API : new WarehouseDto(delivery info)
API -> C : Update(delivery_id, DeliveryDto)
activate C
C -> C : Compares (delivery_id == DeliveryDto.Id)
C -> S : UpdateAsync(DeliveryDto)
activate S
S -> R : GetByIdAsync(delivery_id)
activate R
R -> R : Fetch(delivery_id)
R - -> S : OldDelivery
deactivate R
S -> S : Edits delivery information
S -> U : CommitAsync
activate U
U - -> S
deactivate U
S - -> C : NewDelivery(DeliveryDto)
deactivate S
C - -> API : Response Code 200
deactivate C
deactivate API
@end

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg>