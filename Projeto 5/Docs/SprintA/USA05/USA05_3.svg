<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="579px" preserveAspectRatio="none" style="width:1072px;height:579px;background:#FFFFFF;" version="1.1" viewBox="0 0 1072 579" width="1072px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="151" x="459.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="141" x="464.75" y="29.5332">SD - Create Delivery</text><rect fill="#FFFFFF" height="438.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="144" y="86.2188"/><rect fill="#FFFFFF" height="342.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="346" y="182.2734"/><rect fill="#FFFFFF" height="281.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="561" y="212.625"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="897" y="329.6797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1018.5" y="433.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="148.5" x2="148.5" y1="76.2188" y2="542.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="350.5" x2="350.5" y1="76.2188" y2="542.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="566" x2="566" y1="76.2188" y2="542.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="901.5" x2="901.5" y1="76.2188" y2="542.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1023.5" x2="1023.5" y1="76.2188" y2="542.7891"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="35" x="131.5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="138.5" y="65.1426">API</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="35" x="131.5" y="541.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="138.5" y="563.3223">API</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="285.5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="292.5" y="65.1426">Delivery Controller</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="285.5" y="541.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="292.5" y="563.3223">Delivery Controller</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="508" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="515" y="65.1426">Delivery Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="508" y="541.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="515" y="563.3223">Delivery Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="833.5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="840.5" y="65.1426">Delivery Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="833.5" y="541.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="840.5" y="563.3223">Delivery Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="980.5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="987.5" y="65.1426">UnitOfWork</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="980.5" y="541.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="987.5" y="563.3223">UnitOfWork</text><rect fill="#FFFFFF" height="438.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="144" y="86.2188"/><rect fill="#FFFFFF" height="342.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="346" y="182.2734"/><rect fill="#FFFFFF" height="281.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="561" y="212.625"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="897" y="329.6797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1018.5" y="433.7344"/><polygon fill="#181818" points="132,104.5703,142,108.5703,132,112.5703,136,108.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="138" y1="108.5703" y2="108.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="7" y="103.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="18" y="103.7139">POST (delivery info)</text><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="196" y1="138.9219" y2="138.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="196" x2="196" y1="138.9219" y2="151.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="155" x2="196" y1="151.9219" y2="151.9219"/><polygon fill="#181818" points="165,147.9219,155,151.9219,165,155.9219,161,151.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="161" y="134.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="172" y="134.0654">new DeliveryDto(delivery info)</text><polygon fill="#181818" points="334,178.2734,344,182.2734,334,186.2734,338,182.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="154" x2="340" y1="182.2734" y2="182.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="161" y="177.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="172" y="177.417">Create(DeliveryDto)</text><polygon fill="#181818" points="549,208.625,559,212.625,549,216.625,553,212.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="356" x2="555" y1="212.625" y2="212.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="363" y="207.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="374" y="207.7686">AddAsync(DeliveryDto)</text><line style="stroke:#181818;stroke-width:1.0;" x1="571" x2="613" y1="242.9766" y2="242.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="613" x2="613" y1="242.9766" y2="255.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="572" x2="613" y1="255.9766" y2="255.9766"/><polygon fill="#181818" points="582,251.9766,572,255.9766,582,259.9766,578,255.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="578" y="238.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="589" y="238.1201">checkWarehouseIdAsync(DeliveryDto.WarehouseId)</text><line style="stroke:#181818;stroke-width:1.0;" x1="571" x2="613" y1="286.3281" y2="286.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="613" x2="613" y1="286.3281" y2="299.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="572" x2="613" y1="299.3281" y2="299.3281"/><polygon fill="#181818" points="582,295.3281,572,299.3281,582,303.3281,578,299.3281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="578" y="281.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="589" y="281.4717">new Delivery(DeliveryDto)</text><polygon fill="#181818" points="885,325.6797,895,329.6797,885,333.6797,889,329.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="571" x2="891" y1="329.6797" y2="329.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="578" y="324.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="589" y="324.8232">AddAsync(Delivery)</text><line style="stroke:#181818;stroke-width:1.0;" x1="907" x2="949" y1="360.0313" y2="360.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="949" x2="949" y1="360.0313" y2="373.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="908" x2="949" y1="373.0313" y2="373.0313"/><polygon fill="#181818" points="918,369.0313,908,373.0313,918,377.0313,914,373.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="914" y="355.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="925" y="355.1748">Save(Delivery)</text><polygon fill="#181818" points="582,399.3828,572,403.3828,582,407.3828,578,403.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="576" x2="901" y1="403.3828" y2="403.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="588" y="398.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="599" y="398.5264"> </text><polygon fill="#181818" points="1006.5,429.7344,1016.5,433.7344,1006.5,437.7344,1010.5,433.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="571" x2="1012.5" y1="433.7344" y2="433.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="578" y="428.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="596" y="428.8779">CommitAsync</text><polygon fill="#181818" points="582,460.0859,572,464.0859,582,468.0859,578,464.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="576" x2="1022.5" y1="464.0859" y2="464.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="588" y="459.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="606" y="459.2295"> </text><polygon fill="#181818" points="367,490.4375,357,494.4375,367,498.4375,363,494.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="361" x2="565" y1="494.4375" y2="494.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="373" y="489.5811">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="391" y="489.5811">DeliveryCreated(DeliveryDto)</text><polygon fill="#181818" points="160,520.7891,150,524.7891,160,528.7891,156,524.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="154" x2="350" y1="524.7891" y2="524.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="166" y="519.9326">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="184" y="519.9326">Response Code 201</text><!--MD5=[1f5f43fa2b15c8f5ab5a4e29e7c0eef7]
@startuml USA05_3

title SD - Create Delivery

autonumber

participant "API" as API
participant "Delivery Controller" as C
participant "Delivery Service" as S
participant "Delivery Repository" as R
participant "UnitOfWork" as U

activate API
 -> API : POST (delivery info)
 API -> API : new DeliveryDto(delivery info)
API -> C : Create(DeliveryDto)
activate C
C -> S : AddAsync(DeliveryDto)
activate S
S -> S : checkWarehouseIdAsync(DeliveryDto.WarehouseId)
S -> S : new Delivery(DeliveryDto)
S -> R : AddAsync(Delivery)
activate R
R -> R : Save(Delivery)
R - -> S
deactivate R
S -> U : CommitAsync
activate U
U - -> S
deactivate U 
S - -> C : DeliveryCreated(DeliveryDto)
deactivate S
C - -> API : Response Code 201
deactivate C
deactivate API
@end

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg>